<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>دعاء القنوت - Dua al-Qunoot</title>
  <style>
    body {
      text-align: center;
      margin: 0;
      padding: 0;
      font-family: "Times New Roman", serif;
      background-color: white;
      color: black;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .container {
      width: 80%;
      margin: 20px auto;
      padding: 20px;
    }

    .verse-display {
      margin-bottom: 20px;
    }

    .arabic-verse {
      font-size: 72px;
      line-height: 1.3;
      font-weight: bold;
      text-align: center;
      direction: rtl;
      word-spacing: 10px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background-color: #ccc;
      border: 1px solid black;
      margin-top: 15px;
    }

    .progress-fill {
      height: 100%;
      background-color: black;
      width: 0%;
    }

    .complete-dua {
      margin-top: 30px;
      text-align: center;
    }

    .all-verses {
      font-size: 38px;
      line-height: 1.2;
      direction: rtl;
      text-align: center;
      color: #444;
      max-width: 90%;
      margin: 0 auto;
    }

    .verse-line {
      margin-bottom: 8px;
      padding: 5px;
    }

    .current-verse {
      background-color: #f0f0f0;
      font-weight: bold;
      color: black;
      border-radius: 5px;
    }

    @media screen and (max-width: 600px) {
      .arabic-verse {
        font-size: 56px;
      }
      .nav-button {
        padding: 12px 20px;
        font-size: 16px;
      }
    }

  </style>
</head>
<body>
  <div class="container">
    <div class="verse-display">
      <div class="arabic-verse" id="arabicVerse">اللَّهُمَّ اهْدِنِي فِيمَنْ هَدَيْت</div>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    
    <div class="complete-dua">
      <div class="all-verses" id="allVerses"></div>
    </div>
  </div>

  <script>
    const qunootVerses = [
      "اللَّهُمَّ اهْدِنِي فِيمَنْ هَدَيْت",
      "وَعَافِنِي فِيمَنْ عَافَيْت",
      "وَتَوَلَّنِي فِيمَنْ تَوَلَّيْت",
      "وَبَارِكْ لِي فِيمَا أَعْطَيْت",
      "وَقِنِي شَرَّ مَا قَضَيْت",
      "فَإِنَّكَ تَقْضِي وَلَا يُقْضَى عَلَيْك",
      "وَإِنَّهُ لَا يَذِلُّ مَنْ وَالَيْت",
      "وَلَا يَعِزُّ مَنْ عَادَيْت",
      "تَبَارَكْتَ رَبَّنَا وَتَعَالَيْت"
    ];

    var currentIndex = 0;
    var arabicVerseElement = document.getElementById('arabicVerse');
    var progressFillElement = document.getElementById('progressFill');
    var allVersesElement = document.getElementById('allVerses');
    var progressWidth = 0;

    // Create and display all verses
    function initializeAllVerses() {
      var versesHTML = '';
      for (var i = 0; i < qunootVerses.length; i++) {
        versesHTML += '<div class="verse-line" id="verse-' + i + '">' + qunootVerses[i] + '</div>';
      }
      allVersesElement.innerHTML = versesHTML;
    }

    function displayVerse(index) {
      arabicVerseElement.innerHTML = qunootVerses[index];
      
      // Highlight current verse in the complete dua
      for (var i = 0; i < qunootVerses.length; i++) {
        var verseElement = document.getElementById('verse-' + i);
        if (i === index) {
          verseElement.className = 'verse-line current-verse';
        } else {
          verseElement.className = 'verse-line';
        }
      }
      
      // Reset progress bar
      progressWidth = 0;
      progressFillElement.style.width = '0%';
      updateProgress();
    }

    function updateProgress() {
      if (progressWidth < 100) {
        progressWidth += 1;
        progressFillElement.style.width = progressWidth + '%';
        setTimeout(updateProgress, 200);
      }
    }

    function autoNextVerse() {
      if (currentIndex < qunootVerses.length - 1) {
        currentIndex++;
      } else {
        currentIndex = 0; // Loop back to first verse
      }
      displayVerse(currentIndex);
    }

    // Initialize with first verse
    initializeAllVerses();
    displayVerse(0);

    // Set interval to auto-progress every 20 seconds
    setInterval(autoNextVerse, 20000);
  </script>
</body>
</html>
